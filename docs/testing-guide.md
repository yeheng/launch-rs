# Launch-rs æµ‹è¯•å®Œå–„æŒ‡å—

## ðŸ“Š æµ‹è¯•æž¶æž„æ¦‚è§ˆ

### æµ‹è¯•å±‚æ¬¡ç»“æž„
```
æµ‹è¯•é‡‘å­—å¡”
â”œâ”€â”€ ðŸ”¬ å•å…ƒæµ‹è¯• (70%)
â”‚   â”œâ”€â”€ Rust åŽç«¯å•å…ƒæµ‹è¯•
â”‚   â”œâ”€â”€ Vue ç»„ä»¶æµ‹è¯•
â”‚   â”œâ”€â”€ TypeScript å·¥å…·å‡½æ•°æµ‹è¯•
â”‚   â””â”€â”€ Pinia çŠ¶æ€ç®¡ç†æµ‹è¯•
â”œâ”€â”€ ðŸ”— é›†æˆæµ‹è¯• (20%)
â”‚   â”œâ”€â”€ æ’ä»¶ç³»ç»Ÿé›†æˆæµ‹è¯•
â”‚   â”œâ”€â”€ å‰åŽç«¯é€šä¿¡æµ‹è¯•
â”‚   â””â”€â”€ çŠ¶æ€æŒä¹…åŒ–æµ‹è¯•
â””â”€â”€ ðŸŽ­ E2E æµ‹è¯• (10%)
    â”œâ”€â”€ ç”¨æˆ·å·¥ä½œæµæµ‹è¯•
    â”œâ”€â”€ è·¨å¹³å°å…¼å®¹æ€§æµ‹è¯•
    â””â”€â”€ æ€§èƒ½åŸºå‡†æµ‹è¯•
```

## ðŸ› ï¸ æµ‹è¯•å·¥å…·æ ˆ

### å‰ç«¯æµ‹è¯•
- **æµ‹è¯•æ¡†æž¶**: Vitest + Vue Test Utils
- **æ¨¡æ‹Ÿå·¥å…·**: Vi (Vitestå†…ç½®)
- **DOMçŽ¯å¢ƒ**: jsdom
- **è¦†ç›–çŽ‡**: V8 provider

### åŽç«¯æµ‹è¯•
- **æµ‹è¯•æ¡†æž¶**: Rustå†…ç½®æµ‹è¯• + Cargo test
- **æ¨¡æ‹Ÿå·¥å…·**: mockall (æŽ¨èæ·»åŠ )
- **ä¸´æ—¶æ–‡ä»¶**: tempfile crate
- **è¦†ç›–çŽ‡**: cargo-tarpaulin

### E2Eæµ‹è¯•
- **æ¡†æž¶**: Vitest E2Eé…ç½®
- **çŽ¯å¢ƒ**: è¿‘çœŸå®žçŽ¯å¢ƒæ¨¡æ‹Ÿ
- **å¹¶å‘æŽ§åˆ¶**: ä¸²è¡Œæ‰§è¡Œé˜²æ­¢å‰¯ä½œç”¨

## ðŸ“ æµ‹è¯•å‘½ä»¤

### åŸºæœ¬æµ‹è¯•å‘½ä»¤
```bash
# è¿è¡Œæ‰€æœ‰æµ‹è¯•
bun run test:all

# å•ç‹¬è¿è¡Œå‰ç«¯æµ‹è¯•
bun run test:run

# å•ç‹¬è¿è¡ŒåŽç«¯æµ‹è¯•  
bun run test:rust

# è¿è¡ŒE2Eæµ‹è¯•
bun run test:e2e

# ç”Ÿæˆè¦†ç›–çŽ‡æŠ¥å‘Š
bun run test:coverage

# CIçŽ¯å¢ƒæµ‹è¯•
bun run test:ci
```

### é«˜çº§æµ‹è¯•å‘½ä»¤
```bash
# ç›‘è§†æ¨¡å¼è¿è¡Œæµ‹è¯•
bun run test:watch

# æµ‹è¯•UIç•Œé¢
bun run test:ui

# E2Eæµ‹è¯•UIç•Œé¢
bun run test:e2e:ui

# ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬
./scripts/test-automation.sh unit
./scripts/test-automation.sh e2e  
./scripts/test-automation.sh coverage
./scripts/test-automation.sh ci
./scripts/test-automation.sh all
```

## ðŸŽ¯ æµ‹è¯•è¦†ç›–çŽ‡ç›®æ ‡

### å½“å‰çŠ¶æ€
- **æ€»ä½“æµ‹è¯•**: 357ä¸ªï¼ˆ194é€šè¿‡ + 163å¤±è´¥ï¼‰
- **è¦†ç›–çŽ‡ç›®æ ‡**: 70%ï¼ˆåˆ†æ”¯ã€å‡½æ•°ã€è¡Œã€è¯­å¥ï¼‰
- **ä¼˜å…ˆä¿®å¤**: é«˜ä¼˜å…ˆçº§å¤±è´¥æµ‹è¯•

### è¦†ç›–çŽ‡é˜ˆå€¼
```typescript
// vitest.config.ts
coverage: {
  threshold: {
    global: {
      branches: 70,
      functions: 70, 
      lines: 70,
      statements: 70
    }
  }
}
```

## ðŸ”§ æµ‹è¯•æœ€ä½³å®žè·µ

### 1. æµ‹è¯•ç»“æž„
```typescript
describe('åŠŸèƒ½æ¨¡å—åç§°', () => {
  // è®¾ç½®å’Œæ¸…ç†
  beforeEach(() => {
    TestUtils.setupPinia()
  })
  
  describe('å…·ä½“åŠŸèƒ½ç‚¹', () => {
    it('åº”è¯¥æ»¡è¶³ç‰¹å®šè¡Œä¸ºé¢„æœŸ', () => {
      // Arrange (å®‰æŽ’)
      const mockData = TestUtils.createMockPlugin()
      
      // Act (æ‰§è¡Œ)
      const result = performAction(mockData)
      
      // Assert (æ–­è¨€)
      expect(result).toEqual(expectedOutcome)
    })
  })
})
```

### 2. è¾¹ç•Œæµ‹è¯•
```typescript
const edgeCases = [
  { input: '', expected: [] },
  { input: 'a'.repeat(10000), expected: 'handled' },
  { input: null, expected: 'error' },
  { input: undefined, expected: 'error' }
]

edgeCases.forEach(({ input, expected }) => {
  it(`åº”è¯¥å¤„ç†è¾¹ç•Œæƒ…å†µ: ${input}`, () => {
    expect(() => testFunction(input)).not.toThrow()
  })
})
```

### 3. å¼‚æ­¥æµ‹è¯•
```typescript
it('åº”è¯¥æ­£ç¡®å¤„ç†å¼‚æ­¥æ“ä½œ', async () => {
  const promise = asyncFunction()
  
  // éªŒè¯PromiseçŠ¶æ€
  expect(promise).toBeInstanceOf(Promise)
  
  // ç­‰å¾…ç»“æžœ
  const result = await promise
  expect(result).toBeDefined()
})
```

## ðŸš¨ å¸¸è§æµ‹è¯•é—®é¢˜å’Œè§£å†³æ–¹æ¡ˆ

### 1. çŠ¶æ€æ³„æ¼
**é—®é¢˜**: æµ‹è¯•é—´çŠ¶æ€äº’ç›¸å½±å“
**è§£å†³**: ä½¿ç”¨TestUtils.cleanupTestEnvironment()

### 2. å¼‚æ­¥ç«žæ€
**é—®é¢˜**: å¼‚æ­¥æ“ä½œæœªå®Œæˆå°±è¿›è¡Œæ–­è¨€
**è§£å†³**: ä½¿ç”¨é€‚å½“çš„ç­‰å¾…æœºåˆ¶

### 3. Mockæ³„æ¼
**é—®é¢˜**: Mockå‡½æ•°åœ¨æµ‹è¯•é—´æ²¡æœ‰é‡ç½®
**è§£å†³**: beforeEachä¸­ä½¿ç”¨vi.clearAllMocks()

### 4. DOMæ¸…ç†
**é—®é¢˜**: ç»„ä»¶æŒ‚è½½åŽæœªæ­£ç¡®å¸è½½
**è§£å†³**: afterEachä¸­è°ƒç”¨wrapper.unmount()

## ðŸ“ˆ æŒç»­æ”¹è¿›

### çŸ­æœŸç›®æ ‡ï¼ˆ1å‘¨ï¼‰
- [ ] ä¿®å¤æ‰€æœ‰å¤±è´¥çš„å•å…ƒæµ‹è¯•
- [ ] æé«˜æµ‹è¯•è¦†ç›–çŽ‡åˆ°70%
- [ ] å®Œå–„é”™è¯¯å¤„ç†æµ‹è¯•
- [ ] ä¼˜åŒ–æµ‹è¯•æ‰§è¡Œé€Ÿåº¦

### ä¸­æœŸç›®æ ‡ï¼ˆ1ä¸ªæœˆï¼‰  
- [ ] å®žçŽ°è§†è§‰å›žå½’æµ‹è¯•
- [ ] æ·»åŠ æ€§èƒ½åŸºå‡†æµ‹è¯•
- [ ] å®Œå–„å¯è®¿é—®æ€§æµ‹è¯•
- [ ] é›†æˆå®‰å…¨æµ‹è¯•

### é•¿æœŸç›®æ ‡ï¼ˆ3ä¸ªæœˆï¼‰
- [ ] å®žçŽ°çœŸå®žæµè§ˆå™¨E2Eæµ‹è¯•
- [ ] æ·»åŠ è·¨å¹³å°å…¼å®¹æ€§æµ‹è¯•
- [ ] å®žçŽ°è‡ªåŠ¨åŒ–æ€§èƒ½ç›‘æŽ§
- [ ] å»ºç«‹æµ‹è¯•æ•°æ®ç®¡ç†ç³»ç»Ÿ

## ðŸ” æµ‹è¯•è°ƒè¯•

### è¿è¡Œç‰¹å®šæµ‹è¯•
```bash
# è¿è¡Œç‰¹å®šæ–‡ä»¶çš„æµ‹è¯•
bun test plugin-state-manager.test.ts

# è¿è¡Œç‰¹å®šæµ‹è¯•ç”¨ä¾‹
bun test -t "åº”è¯¥å¤„ç†æ’ä»¶çŠ¶æ€"

# è°ƒè¯•æ¨¡å¼è¿è¡Œ
bun test --inspect-brk
```

### æŸ¥çœ‹è¯¦ç»†è¾“å‡º
```bash
# è¯¦ç»†è¾“å‡ºæ¨¡å¼
bun test --reporter=verbose

# æ˜¾ç¤ºæµ‹è¯•è¦†ç›–çŽ‡
bun test --coverage

# ç”ŸæˆHTMLè¦†ç›–çŽ‡æŠ¥å‘Š
bun test --coverage --reporter=html
```

## ðŸ“Š æµ‹è¯•æŒ‡æ ‡ç›‘æŽ§

### å…³é”®æŒ‡æ ‡
- **é€šè¿‡çŽ‡**: >95%
- **è¦†ç›–çŽ‡**: >70%
- **æ‰§è¡Œæ—¶é—´**: <2åˆ†é’Ÿ
- **ç»´æŠ¤æ€§**: æ¯ä¸ªæµ‹è¯•ç‹¬ç«‹ä¸”ç¨³å®š

### è‡ªåŠ¨åŒ–ç›‘æŽ§
- CI/CDç®¡é“è‡ªåŠ¨è¿è¡Œ
- è¦†ç›–çŽ‡è¶‹åŠ¿è·Ÿè¸ª
- æ€§èƒ½å›žå½’æ£€æµ‹
- å¤±è´¥æµ‹è¯•è‡ªåŠ¨æŠ¥å‘Š

---

**æ›´æ–°æ—¶é—´**: 2025-09-01  
**ç»´æŠ¤è€…**: Launch-rs å›¢é˜Ÿ  
**ç‰ˆæœ¬**: 1.0.0